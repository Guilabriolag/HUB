<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LabSystem CMS - Portal de Acesso</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');
        
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: #020617; 
            overflow: hidden; 
            transition: background-color 0.8s ease;
        }

        /* Efeito Neon na Logo Splash */
        .neon-glow {
            filter: drop-shadow(0 0 15px rgba(99, 102, 241, 0.8));
            animation: pulseNeon 2s infinite alternate;
        }

        @keyframes pulseNeon {
            0% { filter: drop-shadow(0 0 5px rgba(99, 102, 241, 0.5)); transform: scale(1); }
            100% { filter: drop-shadow(0 0 25px rgba(99, 102, 241, 1)); transform: scale(1.05); }
        }

        /* Configuração do Card 3D */
        .perspective-1000 { perspective: 1000px; }
        .flip-card-inner {
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }
        .flipped { transform: rotateY(180deg); }
        .flip-front, .flip-back {
            backface-visibility: hidden;
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
        }
        .flip-back { transform: rotateY(180deg); }

        /* Estilo Vidro (Glassmorphism) */
        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="splash" class="fixed inset-0 flex flex-col items-center justify-center bg-[#020617] z-[100] transition-opacity duration-1000">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg2IcBgN5wifwJ3Sh08hSH3IJkyRp3gdMr_XSIn6feHwZ4fraxb5n42_lGOUXFPL_zT_7_GmGJWGVXPCFmD-BeNyRoecwBJ4NOnhCmRepsjQBmm8vwJR7S-2m8usRDFRfyYB78ofoPbkiXRatCw3mJi-ZBg_yJrxbfSgEvW3V81tNoO2UJQqvnwQQ7LJMFP/s1536/ChatGPT%20Image%2027%20de%20dez.%20de%202025,%2015_59_29.png" 
             class="neon-glow w-64 md:w-80" alt="LabSystem Logo">
        <div class="mt-12 flex space-x-2">
            <div class="w-3 h-3 bg-indigo-500 rounded-full animate-bounce"></div>
            <div class="w-3 h-3 bg-indigo-500 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
            <div class="w-3 h-3 bg-indigo-500 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
        </div>
    </div>

    <div id="login-container" class="hidden w-full max-w-[400px] h-[580px] perspective-1000 animate__animated animate__fadeInUp">
        <div id="flip-inner" class="flip-card-inner w-full h-full relative">
            
            <div class="flip-front glass rounded-[2.5rem] shadow-2xl p-8 flex flex-col items-center border-t-4 border-indigo-600">
                <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjqnIRYFuxL7DNEdwWxSq8iLlHCm_eAPDQn99rTKB4fcI1KEG9Nn0R49bJSFqq8I11CwN-lhhxdpgkOganKpP6IsExQ2rZbqVCGmHOflRbc2oIQ86taINDfBZLiUK8jaV2jgET_-Mvjnja0ZKRX-xg05SpPEPQsADvLRs_Xp1xcd8m0pPcRTbT8Oclaqgus/s855/20251227_160229.png" 
                     class="w-20 h-20 mb-4 drop-shadow-lg" alt="Icon">
                
                <h2 class="text-2xl font-extrabold text-gray-800 tracking-tight">Painel de Acesso</h2>
                <p class="text-gray-500 text-sm mb-8">Insira suas credenciais mestras</p>

                <div class="w-full space-y-4">
                    <div class="relative">
                        <input type="text" id="user" placeholder="@usuário" class="w-full px-5 py-3 bg-white/50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-indigo-500/20 focus:outline-none transition-all">
                    </div>
                    <div class="relative">
                        <input type="text" id="bin_id" placeholder="BIN_ID (____)" class="w-full px-5 py-3 bg-white/50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-indigo-500/20 focus:outline-none transition-all">
                    </div>
                    <div class="relative">
                        <input type="password" id="key" placeholder="MASTER KEY" class="w-full px-5 py-3 bg-white/50 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-indigo-500/20 focus:outline-none transition-all">
                    </div>
                </div>

                <button onclick="validaAcesso()" class="w-full mt-8 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-2xl shadow-xl shadow-indigo-200 transform active:scale-95 transition-all">
                    Entrar no Sistema
                </button>

                <button onclick="toggleFlip()" class="mt-6 text-indigo-600 font-semibold hover:text-indigo-800 transition">
                    Solicitar acesso
                </button>
            </div>

            <div class="flip-back glass rounded-[2.5rem] shadow-2xl p-8 flex flex-col items-center justify-center text-center">
                <div class="bg-indigo-100 p-4 rounded-full mb-6 text-indigo-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">Novo Membro?</h3>
                <p class="text-gray-600 mb-8 leading-relaxed">Escolha um plano para obter sua BIN_ID e chave de acesso personalizada.</p>
                
                <button onclick="openPlanos()" class="w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-4 rounded-2xl shadow-lg transition-all mb-4">
                    Escolher Meu Plano
                </button>
                
                <button onclick="toggleFlip()" class="text-gray-500 hover:underline text-sm">Voltar para login</button>
            </div>
        </div>
    </div>

    <div id="modalPlanos" class="fixed inset-0 z-[150] bg-white hidden animate__animated animate__fadeInUp">
        <div class="h-16 w-full flex items-center justify-between px-6 bg-gray-50 border-b">
            <span class="font-bold text-gray-700">LabSystem Shop</span>
            <button onclick="closePlanos()" class="bg-red-500 text-white px-4 py-1 rounded-full font-bold">FECHAR</button>
        </div>
        <iframe src="https://www.labriolag.shop/LabSystem/Shop/planos.html" class="w-full h-[calc(100%-64px)] border-none"></iframe>
    </div>

    <script>
        // --- 1. CONTROLE DA SPLASH ---
        window.addEventListener('load', () => {
            setTimeout(() => {
                const splash = document.getElementById('splash');
                const container = document.getElementById('login-container');
                
                splash.classList.add('opacity-0');
                setTimeout(() => {
                    splash.style.display = 'none';
                    container.classList.remove('hidden');
                    document.body.style.backgroundColor = '#f8fafc'; // Fundo claro após splash
                }, 1000);
            }, 3000); 
        });

        // --- 2. CONTROLE DE ANIMAÇÃO DO CARD ---
        function toggleFlip() {
            document.getElementById('flip-inner').classList.toggle('flipped');
        }

        // --- 3. LÓGICA DE LOGIN DINÂMICO ---
        // Simulação de Banco de Dados de Binds (Aqui você integraria com sua API)
        const db_clientes = {
            "user001": "69505ac343b1c97be908ec76",
            "user002": "44321bc343b1c97be908e000",
            "Racaodochico": "bin8877chico"
        };

        function validaAcesso() {
            const usuario = document.getElementById('user').value.replace('@', '').trim();
            const bin_informada = document.getElementById('bin_id').value.trim();
            const key_informada = document.getElementById('key').value.trim();

            if (!usuario || !bin_informada || !key_informada) {
                alert("Preencha todos os campos!");
                return;
            }

            // Verifica se o usuário existe e se a Bind confere
            if (db_clientes[usuario] && db_clientes[usuario] === bin_informada) {
                // Sucesso: Redireciona para o diretório dinâmico
                // Estrutura: /LabSystem/NOME_DO_USER/cms_admin/index.html
                window.location.href = `/LabSystem/${usuario}/cms_admin/index.html`;
            } else {
                // Caso falhe, redireciona para o genérico conforme solicitado ou erro
                alert("Acesso Negado: BIN_ID ou Usuário incorreto.");
                // window.location.href = "/cms_admin/usuario.html"; // Opcional
            }
        }

        // --- 4. CONTROLE DO MODAL DE PLANOS ---
        function openPlanos() {
            document.getElementById('modalPlanos').classList.remove('hidden');
        }
        function closePlanos() {
            document.getElementById('modalPlanos').classList.add('animate__fadeOutDown');
            setTimeout(() => {
                document.getElementById('modalPlanos').classList.add('hidden');
                document.getElementById('modalPlanos').classList.remove('animate__fadeOutDown');
            }, 500);
        }
    </script>
</body>
  </html>
